<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>å¾®åšå¢å¼ºè®¾ç½®</title>
  <style>
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      margin: 0;
      padding: 16px;
      width: 300px;
      color: var(--panel-text, #333);
      background: var(--panel-bg, #ffffff);
    }
    
    .popup-container {
      background: var(--panel-bg, #ffffff);
      padding: 16px;
      min-width: 240px;
      border-radius: 12px;
      opacity: 1;
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
    }
    
    .popup-container h3 {
      margin: 0 0 12px 0;
      font-size: 14px;
      font-weight: 600;
      color: var(--panel-text, #333);
      text-align: center;
      border-bottom: 1px solid var(--panel-border, #e1e8ed);
      padding-bottom: 8px;
    }
    
    .control-group {
      margin-bottom: 16px;
      width: 100%;
      overflow: visible;
      display: block;
    }
    
    .control-group:last-child {
      margin-bottom: 0;
    }
    
    .control-title {
      font-size: 12px;
      color: var(--panel-text-secondary, #666);
      margin-bottom: 6px;
      font-weight: 500;
    }
    
    button {
      width: 100%;
      padding: 8px 12px;
      border: 1px solid var(--button-border, #ddd);
      border-radius: 6px;
      background: var(--button-bg, #fff);
      color: var(--button-text, #333);
      cursor: pointer;
      font-size: 12px;
      transition: all 0.2s ease;
      margin-bottom: 4px;
    }
    
    button:hover {
      background: var(--button-hover-bg, #f5f5f5);
      border-color: var(--button-hover-border, #bbb);
    }
      button.active {
      background: var(--button-active-bg, #1890ff);
      color: white;
      border-color: var(--button-active-bg, #1890ff);
    }
    
    #clear-cache-btn:hover:not(:disabled) {
      background: var(--button-hover-bg, #f5f5f5);
      border-color: var(--button-hover-border, #bbb);
    }
    
    #clear-cache-btn:disabled {
      opacity: 0.7;
      cursor: not-allowed;
    }
    
    .checkbox-control {
      display: flex;
      align-items: center;
      padding: 6px;
      margin-bottom: 4px;
      border-radius: 4px;
      cursor: pointer;
      transition: background 0.2s ease;
    }
    
    .checkbox-control:hover {
      background: var(--checkbox-hover-bg, #f5f5f5);
    }
    
    .checkbox-control input {
      margin-right: 8px;
    }
    
    .checkbox-control label {
      font-size: 12px;
      color: var(--panel-text, #333);
      cursor: pointer;
      margin: 0;
    }
    
    /* æ»‘å—æ§ä»¶æ ·å¼ */
    .range-control {
      margin-top: 8px;
      width: 100%;
    }
    
    .range-control label {
      display: block;
      font-size: 12px;
      color: var(--panel-text, #333);
      margin-bottom: 6px;
    }
    
    .range-control input[type="range"] {
      width: 100%;
      height: 5px;
      border-radius: 5px;
      background: var(--panel-border, #e1e8ed);
      outline: none;
      opacity: 0.7;
      -webkit-transition: opacity .2s;
      transition: opacity .2s;
    }
    
    .range-control input[type="range"]:hover {
      opacity: 1;
    }
    
    .range-control input[type="range"]::-webkit-slider-thumb {
      -webkit-appearance: none;
      appearance: none;
      width: 15px;
      height: 15px;
      border-radius: 50%;
      background: var(--button-active-bg, #1890ff);
      cursor: pointer;
    }
    
    .range-control input[type="range"]::-moz-range-thumb {
      width: 15px;
      height: 15px;
      border-radius: 50%;
      background: var(--button-active-bg, #1890ff);
      cursor: pointer;
    }
    
    /* æ·±è‰²æ¨¡å¼æ ·å¼ */
    html.dark {
      --panel-bg: #2f3349;
      --panel-border: #484b6a;
      --panel-text: #ffffff;
      --panel-text-secondary: #b3b3b3;
      --button-bg: #404466;
      --button-text: #ffffff;
      --button-border: #484b6a;
      --button-hover-bg: #4a4f73;
      --button-hover-border: #5a5f83;
      --button-active-bg: #1890ff;
      --checkbox-hover-bg: #404466;
    }
    
    /* æµ…è‰²æ¨¡å¼æ ·å¼ */
    html.light {
      --panel-bg: #ffffff;
      --panel-border: #e1e8ed;
      --panel-text: #333333;
      --panel-text-secondary: #666666;
      --button-bg: #ffffff;
      --button-text: #333333;
      --button-border: #dddddd;
      --button-hover-bg: #f5f5f5;
      --button-hover-border: #bbbbbb;
      --button-active-bg: #1890ff;
      --checkbox-hover-bg: #f5f5f5;
    }
    
    .status-indicator {
      display: inline-block;
      width: 8px;
      height: 8px;
      border-radius: 50%;
      margin-right: 6px;
    }
    
    .status-indicator.on {
      background: #52c41a;
    }
    
    .status-indicator.off {
      background: #f5222d;
    }
    
    /* å•é€‰æ¡†æ ·å¼ */
    .radio-control {
      display: flex;
      flex-wrap: wrap;
      margin-bottom: 8px;
    }
    
    .radio-control input[type="radio"] {
      margin-right: 5px;
    }
    
    .radio-control label {
      margin-right: 12px;
      font-size: 12px;
      color: var(--panel-text, #333);
      cursor: pointer;
      flex: 0 0 auto;
    }
    
    /* å°æŒ‰é’®æ ·å¼ */
    .small-button {
      font-size: 12px;
      padding: 5px 10px;
      margin: 5px 0;
      background: var(--button-secondary-bg, #f0f7ff);
      border: 1px solid var(--button-secondary-border, #95bfff);
      color: var(--button-secondary-text, #1890ff);
      border-radius: 4px;
      cursor: pointer;
      transition: all 0.2s;
    }
    
    .small-button:hover {
      background: var(--button-secondary-hover-bg, #e6f2ff);
      border-color: var(--button-secondary-hover-border, #69a2ff);
    }
    
    .footer {
      font-size: 12px;
      color: var(--panel-text-secondary, #666);
      text-align: center;
      margin-top: 16px;
    }
  </style>
</head>
<body>
  <div class="popup-container">
    <h3>å¾®åšå¢å¼º</h3>
    
    <div class="control-group">
      <div class="control-title">å®½å±åŠŸèƒ½</div>
      <button id="widescreen-toggle">
        <span class="status-indicator"></span>
        <span id="widescreen-status">åŠ è½½ä¸­...</span>
      </button>
      <div class="checkbox-control">
        <input type="checkbox" id="widescreen-loose">
        <label for="widescreen-loose">æ›´å®½æ¨¡å¼</label>
      </div>
    </div>
    
    <div class="control-group">
      <div class="control-title">ä¸»é¢˜åˆ‡æ¢</div>
      <button id="theme-toggle">
        <span class="status-indicator"></span>
        <span id="theme-status">åˆ‡æ¢ä¸»é¢˜</span>
      </button>
      <button id="theme-reset">é‡ç½®è·Ÿéš</button>
    </div>
    
    <div class="control-group" id="background-control-group">
      <div class="control-title">èƒŒæ™¯è®¾ç½®</div>
      <button id="background-toggle">
        <span class="status-indicator"></span>
        <span id="background-status">åŠ è½½ä¸­...</span>
      </button>
        <div id="background-options" style="display:none;">
        <div class="radio-control">
          <input type="radio" id="bing-background" name="background-type" value="bing">
          <label for="bing-background">å¿…åº”æ¯æ—¥å›¾ç‰‡</label>
          
          <input type="radio" id="gradient-background" name="background-type" value="gradient">
          <label for="gradient-background">æ¸å˜èƒŒæ™¯</label>
          
          <input type="radio" id="custom-background" name="background-type" value="custom">
          <label for="custom-background">è‡ªå®šä¹‰å›¾ç‰‡</label>
        </div>
        
        <div id="custom-url-container" style="display: none; margin: 8px 0;">
          <input type="text" id="background-url" placeholder="è¾“å…¥è‡ªå®šä¹‰èƒŒæ™¯å›¾ç‰‡URL" style="width: 100%; padding: 4px;">
        </div>
        
        <div class="range-control">
          <label for="background-opacity">èƒŒæ™¯ä¸é€æ˜åº¦: <span id="background-opacity-value">20%</span></label>
          <input type="range" id="background-opacity" min="1" max="100" value="20">
        </div>
        
        <div class="checkbox-control" id="content-transparency-container">
          <input type="checkbox" id="content-transparency-toggle">
          <label for="content-transparency-toggle">å¾®åšå†…å®¹åŠé€æ˜</label>
        </div>
        
        <div class="range-control" id="content-opacity-container" style="display:none;">
          <label for="content-opacity">å†…å®¹ä¸é€æ˜åº¦: <span id="content-opacity-value">70%</span></label>
          <input type="range" id="content-opacity" min="20" max="95" value="70">
        </div>
      </div>
    </div>
      <div class="control-group">
      <div class="control-title">å…¶ä»–åŠŸèƒ½</div>
      <div class="checkbox-control">
        <input type="checkbox" id="notification-toggle">
        <label for="notification-toggle">å¯ç”¨é€šçŸ¥</label>
      </div>      <div class="checkbox-control">
        <button id="clear-cache-btn" style="width: 100%; margin-top: 8px; padding: 6px; font-size: 12px; background: var(--button-bg, #fff); color: var(--button-text, #333); border: 1px solid var(--button-border, #ddd); border-radius: 4px; cursor: pointer; transition: all 0.2s;">
          ğŸ§¹ æ¸…ç†ç¼“å­˜æ•°æ® (ä¿ç•™é…ç½®)
        </button>
      </div>
    </div>
  </div>
  
  <div class="footer">
    å¾®åšå¢å¼º v1.0.4 Â· <a href="https://github.com/xzy-nine/youhou" target="_blank">GitHub</a>
  </div>
  
  <script src="popup.js"></script>
</body>
</html>
